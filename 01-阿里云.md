# 01-阿里云

# 0.云计算服务模式

基础设施即服务 (IaaS)、平台即服务 (PaaS) 以及软件即服务 (SaaS) 均可提供不同级别的控制和管理。了解哪种模型最适合您的需求。

[云计算](https://www.intel.cn/content/www/cn/zh/cloud-computing/overview.html)已成为企业技术不可或缺的组成部分，可帮助您方便、高效地为最终用户提供应用程序和 IT 即服务 (ITaaS)。如今，云战略最重要的一个部分就是为您的组织选择合适的云服务模型。

在查看不同的选项时，您会看到 IaaS、PaaS、SaaS 等类似术语。这些都是“即服务”模型，是“一切皆服务”（也称为 “XaaS”）这个大趋势的一部分。您选择的服务类型取决于您可用的基础设施、IT 人力资源、成本考虑和云安全需求。 首先，你需要对为您的应用程序或工作负载提供支持的最佳方法进行评估。您需要考虑各种因素，例如应用程序的可移动性、数据的可移动性、安全性和合规性。这些因素将会决定您在本地还是远端构建服务。

本地服务需要最高的管理水平以及最大的资本支出，但长期而言可能是成本效率最高的方式。所有内容都由您的 IT 团队在[私有云](https://www.intel.cn/content/www/cn/zh/cloud-computing/private-cloud/overview.html)中、在属于您组织的硬件上运行。

最近，云服务提供商已开始提供本地“私有云”服务。例如，IBM Cloud Private 提供了一个应用程序平台，用于开发和管理本地的容器化应用程序。这些新服务有助于减少与本地云架构相关的管理和资本支出。

远端服务（也称为“[公有云](https://www.intel.cn/content/www/cn/zh/cloud-computing/public-cloud/overview.html)服务”）一般由云服务提供商提供，有多种服务模型类型。

**基础设施即服务 (IaaS)**

> 你不用买物理服务器了，买ECS去吧，网工也不要了。

利用基础设施即服务 (IaaS)，云服务提供商可以拥有并管理那些运行您的软件堆栈的硬件。它包括服务器、网络和存储。如果您不想购买和维护基础设施，这便是一个可以大大降低成本的战略。

但是您的 IT 团队仍有大量工作要做。在 IaaS 模型下，您的 IT 团队需要管理操作系统 、数据库、应用程序、功能和您的组织的所有数据。因此，与其它服务模型相比，您的 IT 团队将具有更大的控制力和灵活性。

IaaS 是自助服务，您的 IT 团队可以通过 API 或仪表板获取所需资源。它的常见示例包括亚马逊 AWS、谷歌计算引擎和微软 Azure，您可以通过它们购买自己所需的容量。也就是说，它几乎不涉及约定，如果您认为自己的需求在不久以后会有变化，它就会体现出优势。如果您属于一个大型组织，您也可以通过您的企业的另一个部分访问 IaaS。

**平台即服务 (PaaS)**

> 你买了ECS，还给你提供操作系统，以及数据库等，大家都可以直接登录ECS linux服务器操作。

下一级服务是平台即服务 (PaaS)。PaaS 与 IaaS 相似，区别在于您的云服务提供商还提供了操作系统和数据库。这意味着您的 IT 团队的工作量较少， 但您的组织仍然要负责应用程序、功能和数据。

PaaS 为您的开发者提供了一个简单、可扩展的应用程序构建平台。它与 IaaS 非常相似，您可以根据需要购买更多资源。由于多个用户可以访问开发应用程序，因此 PaaS 可以简化工作流程并加强协调。PaaS 的示例包括 AWS Elastic Beanstalk 和谷歌应用程序引擎。

**软件即服务 (SaaS)**

> 例如我们用的腾讯文档，例如icloud，就是sass服务。

最后，软件即服务 (SaaS) 为最终用户提供了最多的支持，是所有交付模型中最简单的一种。您可能已经在您的组织中使用过它。

SaaS 可以在多租户架构中运行，软件的一个实例可以为多个用户提供服务。一般来说， SaaS 产品不需要下载或安装，您的最终用户不需要管理软件更新。他们只需要负责自己的数据。SaaS 的常见示例包括 CRM 软件、基于云的文件存储和电子邮件。

> 选择 IaaS、PaaS、SaaS 还是其它云服务模型取决于您可用的基础设施、IT 人力资源、成本考虑和云安全需求。

# 1.理解云计算时代

阿里云从这里开始，基础文档

https://help.aliyun.com/product/47310.html?spm=a2c4g.750001.0.0.439c6e7cqZQROH

企业为什么要上云，什么叫云迁移，什么叫业务上云。

https://help.aliyun.com/document_detail/300730.htm

随着数字化转型的浪潮，当前许多企业开始业务创新。云上提供了较为丰富的PaaS和SaaS服务，因此云也是这部分转型的最佳选择。

# 2.学习任务，上云迁移（名词解释）

![1676970305165](/ajian/1676970305165.png)

```
传统IT、上云迁移理解

物理硬件设备架构------------阿里云产品架构
服务器------------ECS
公网IP------------EIP
反向代理------------SLB、四层代理CLB、七层代理ALB
防火墙------------安全组
数据库------------RDS
共享文件系统(NFS)----NAS
文件存储，上传下载------------OSS
```

![image-20230225185859301](/ajian/image-20230225185859301.png)

# 3.阿里云产品

![1676970978608](/ajian/1676970978608.png)

# 4.首次购买ECS（新人优惠）

新人优惠不一定，得看云厂商，是否提供，有时候有1折，有时候不便宜。

咱们可以选择不通的付费模式

- 包年包月
- 按量付费
  - 公司搞活动，秒杀，抢购等活动，临时需要加大服务器负载均衡节点，进行后端扩容
  - 活动结束后，缩容节点，降低成本。
  - 成本费用灵活控制
- 抢占式实例
  - pass
  - 赌错了，你的服务器数据直接被删了

![1676973952883](/ajian/1676973952883.png)

## 按量付费，创建ECS，学习使用

### 地域、可用区

![1677040326830](/ajian/1677040326830.png)

> 注意
>
> 1.不同地域，如北京，上海下的ECS，内网是不通的。
>
> 2.不分地区的话，你在北京就直接都买北京的ECS就好。

![1677039345089](/ajian/1677039345089.png)

### 实例规格

- 分类
  - 内存型、`104 vCPU 768GB`
- 架构
  - x86
  - ARM
  - 图形计算，AI
  - 裸金属服务器，单人单机物理机（其他的都是共享物理机的虚拟机）
- 

![1677039664244](/ajian/1677039664244.png)

### 镜像选择

![1677040102507](/ajian/1677040102507.png)

### 存储磁盘

https://help.aliyun.com/document_detail/25382.html?spm=5176.ecsbuyv3.system-disk.1.58823675Baqgj8

在公司里根据业务，结合开发同事，评估应用所需的磁盘，是机械，还是SSD，性能指标，存储容量，IO速度等。

![1677040273394](/ajian/1677040273394.png)

磁盘和ECS释放规则

![1677040423221](/ajian/1677040423221.png)

添加多块盘

![1677040443478](/ajian/1677040443478.png)

### ECS配置(需充值110元)

> 共享标准型s6 ，1c 2G ，20G ESSD
>
> 可用区J，每个区不一定有哪一款机器 0.250元/小时

![1677042173070](/ajian/1677042173070.png)

### 计费规则

![1677042399314](/ajian/1677042399314.png)

### 网络配置

#### 网络与ECS图解

![1677046129520](/ajian/1677046129520.png)

#### 创建专有网络

先设置一个你公司规划好的内网网段，后续ECS可用的内网ip地址

192.168.0.1/16换算可用ip范围

192.168.0.1 ~ 192.168.255.254

![1677043334301](/ajian/1677043334301.png)

#### 创建虚拟交换机

创建虚拟交换机，就好比你vmware创建的nat虚拟局域网

绑定ECS可用区，于超老师刚才买的`可用区J`

![1677043484125](/ajian/1677043484125.png)

#### 创建结果

![1677043496928](/ajian/1677043496928.png)

#### ECS使用交换机

![1677043553089](/ajian/1677043553089.png)

暂时不用公网IP

#### 安全组（云服务器防火墙规则）

![1677045924724](/ajian/1677045924724.png)

继续下一步，配置系统了

### 系统配置

- 用户名,root,密码
  - root Yuchaoit.cn
- 公私钥
- ECS名字、实例名称，根据业务起名
- 主机名

![1677046388866](/ajian/1677046388866.png)

### 分组设置

该ECS打上标签、标识使用场景

### 确认订单

![1677046562983](/ajian/1677046562983.png)

创建成功

![1677046602935](/ajian/1677046602935.png)

### 查看ECS控制台

![1677046738054](/ajian/1677046738054.png)

## 远程链接ECS

![1677048802203](/ajian/1677048802203.png)

输入账户密码

![1677048830985](/ajian/1677048830985.png)

查看ECS

![1677048909509](/ajian/1677048909509.png)

## 更换系统镜像（ubuntu20.04）

1.关机

2.修改系统镜像

![1677049521043](/ajian/1677049521043.png)

3.关机成功后，可以更换OS发行版，数据全部消失。

![1677049692759](/ajian/1677049692759.png)

更换系统中

![1677049997841](/ajian/1677049997841.png)

使用ubuntu

![1677050100100](/ajian/1677050100100.png)

## 购买公网IP

![1677050273103](/ajian/1677050273103.png)

创建弹性IP

![1677050284168](/ajian/1677050284168.png)

### EIP按流量计费

![1677050442447](/ajian/1677050442447.png)

### 立即开通

![1677050525140](/ajian/1677050525140.png)

### 绑定EIP与ECS

![1677050556958](/ajian/1677050556958.png)

## xshell链接你的阿里云

![1677050876959](/ajian/1677050876959.png)

大功告成

![1677050966062](/ajian/1677050966062.png)

查看登录记录

![1677051128259](/ajian/1677051128259.png)

## 查看EIP弹性IP产品

![1677051005638](/ajian/1677051005638.png)
